<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุถุน ุงูุชุฏุฑูุจ - ุชุฏุฑูุจ ุณูุจุฑูุงูุฏ</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/themes.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#4f46e5">
</head>
<body class="light-theme">
    <header class="header">
        <div class="container">
            <h1 class="logo">
                <span class="logo-icon">๐</span>
                <span data-ar="ูุถุน ุงูุชุฏุฑูุจ" data-en="Training Mode">ูุถุน ุงูุชุฏุฑูุจ</span>
            </h1>
            <div class="header-controls">
                <button id="theme-toggle" class="btn btn-icon" aria-label="ุชุจุฏูู ุงูุซูู">
                    <span class="theme-icon">๐</span>
                </button>
                <button id="back-btn" class="btn btn-secondary" data-ar="ุงูุนูุฏุฉ" data-en="Back">ุงูุนูุฏุฉ</button>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Progress Section -->
            <div class="progress-section">
                <div class="progress-info">
                    <div class="progress-stats">
                        <span class="question-counter">
                            <span data-ar="ุณุคุงู" data-en="Question">ุณุคุงู</span>
                            <span id="current-question">1</span>
                            <span data-ar="ูู" data-en="of">ูู</span>
                            <span id="total-questions">10</span>
                        </span>
                        <span class="score-display">
                            <span data-ar="ุงููุชูุฌุฉ" data-en="Score">ุงููุชูุฌุฉ</span>
                            <span id="current-score">0</span>%
                        </span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
                <div class="timer-display" id="timer-display" style="display: none;">
                    <span class="timer-icon">โฑ๏ธ</span>
                    <span id="timer-text">30</span>
                </div>
            </div>

            <!-- Question Section -->
            <div class="question-section">
                <div class="question-card">
                    <div class="question-header">
                        <h2 class="question-title" data-ar="ุญู ุงููุณุฃูุฉ ุงูุชุงููุฉ" data-en="Solve the following problem">ุญู ุงููุณุฃูุฉ ุงูุชุงููุฉ</h2>
                    </div>
                    <div class="question-content">
                        <div class="math-problem">
                            <span id="factor-a">5</span>
                            <span class="operator">ร</span>
                            <span id="factor-b">12</span>
                            <span class="equals">=</span>
                            <span class="question-mark">?</span>
                        </div>
                    </div>
                </div>

                <!-- Answer Options -->
                <div class="answer-options" id="answer-options">
                    <button class="answer-btn" data-answer="1" tabindex="1">
                        <span class="answer-number">1</span>
                        <span class="answer-value" id="answer-1">60</span>
                    </button>
                    <button class="answer-btn" data-answer="2" tabindex="2">
                        <span class="answer-number">2</span>
                        <span class="answer-value" id="answer-2">72</span>
                    </button>
                    <button class="answer-btn" data-answer="3" tabindex="3">
                        <span class="answer-number">3</span>
                        <span class="answer-value" id="answer-3">48</span>
                    </button>
                    <button class="answer-btn" data-answer="4" tabindex="4">
                        <span class="answer-number">4</span>
                        <span class="answer-value" id="answer-4">84</span>
                    </button>
                </div>

                <!-- Feedback Section -->
                <div class="feedback-section" id="feedback-section" style="display: none;">
                    <div class="feedback-card" id="feedback-card">
                        <div class="feedback-icon" id="feedback-icon">โ</div>
                        <div class="feedback-text" id="feedback-text">
                            <span data-ar="ุฅุฌุงุจุฉ ุตุญูุญุฉ!" data-en="Correct answer!">ุฅุฌุงุจุฉ ุตุญูุญุฉ!</span>
                        </div>
                        <div class="feedback-explanation" id="feedback-explanation">
                            <span data-ar="5 ร 12 = 60" data-en="5 ร 12 = 60">5 ร 12 = 60</span>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-secondary" id="hint-btn" style="display: none;">
                        <span data-ar="ุชูููุญ" data-en="Hint">ุชูููุญ</span>
                    </button>
                    <button class="btn btn-primary" id="next-btn" style="display: none;">
                        <span data-ar="ุงูุชุงูู" data-en="Next">ุงูุชุงูู</span>
                    </button>
                </div>
            </div>

            <!-- Training Stats -->
            <div class="training-stats">
                <div class="stat-item">
                    <span class="stat-label" data-ar="ุตุญูุญ" data-en="Correct">ุตุญูุญ</span>
                    <span class="stat-value correct" id="correct-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label" data-ar="ุฎุทุฃ" data-en="Wrong">ุฎุทุฃ</span>
                    <span class="stat-value wrong" id="wrong-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label" data-ar="ุงูููุช" data-en="Time">ุงูููุช</span>
                    <span class="stat-value" id="elapsed-time">00:00</span>
                </div>
            </div>
        </div>
    </main>

    <!-- Completion Modal -->
    <div id="completion-modal" class="modal" role="dialog" aria-labelledby="completion-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="completion-title" data-ar="ุงูุชูู ุงูุชุฏุฑูุจ!" data-en="Training Complete!">ุงูุชูู ุงูุชุฏุฑูุจ!</h2>
            </div>
            <div class="modal-body">
                <div class="completion-stats">
                    <div class="completion-score">
                        <div class="score-circle">
                            <span id="final-score">85%</span>
                        </div>
                        <p class="score-label" data-ar="ุงููุชูุฌุฉ ุงูููุงุฆูุฉ" data-en="Final Score">ุงููุชูุฌุฉ ุงูููุงุฆูุฉ</p>
                    </div>
                    <div class="completion-details">
                        <div class="detail-item">
                            <span class="detail-label" data-ar="ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ" data-en="Correct Answers">ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ</span>
                            <span class="detail-value" id="final-correct">8</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label" data-ar="ุงูุฅุฌุงุจุงุช ุงูุฎุงุทุฆุฉ" data-en="Wrong Answers">ุงูุฅุฌุงุจุงุช ุงูุฎุงุทุฆุฉ</span>
                            <span class="detail-value" id="final-wrong">2</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label" data-ar="ุงูููุช ุงููุณุชุบุฑู" data-en="Time Taken">ุงูููุช ุงููุณุชุบุฑู</span>
                            <span class="detail-value" id="final-time">02:30</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="view-results">
                    <span data-ar="ุนุฑุถ ุงูุชูุงุตูู" data-en="View Details">ุนุฑุถ ุงูุชูุงุตูู</span>
                </button>
                <button class="btn btn-primary" id="start-new-training">
                    <span data-ar="ุชุฏุฑูุจ ุฌุฏูุฏ" data-en="New Training">ุชุฏุฑูุจ ุฌุฏูุฏ</span>
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="assets/js/utils.js"></script>
    <script type="module" src="assets/js/questionGenerator.js"></script>
    <script type="module" src="assets/js/training.js"></script>
</body>
</html>
