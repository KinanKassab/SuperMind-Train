<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงููุชุงุฆุฌ - ุชุฏุฑูุจ ุณูุจุฑูุงูุฏ</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;800;900&family=Tajawal:wght@200;300;400;500;700;800;900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/themes.css">
    <link rel="manifest" href="../../manifest.json">
    <meta name="theme-color" content="#4f46e5">
</head>
<body class="light-theme">
    <!-- Professional Header Component -->
    <header class="header" role="banner">
        <div class="container">
            <!-- Logo Section - Left side with semantic structure -->
            <a href="../../index.html" class="logo" aria-label="ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ">
                <span class="logo-icon" aria-hidden="true">
                    <img src="../favicon.ico" alt="SuperMind Trainer" style="width: 24px; height: 24px;">
                </span>
                <span class="logo-text" data-ar="ููุญุฉ ุงููุชุงุฆุฌ" data-en="Leaderboard">ููุญุฉ ุงููุชุงุฆุฌ</span>
            </a>
            
            <!-- Header Controls - Right side with proper ARIA labels -->
            <nav class="header-controls" role="toolbar" aria-label="ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู">
                <button 
                    id="back-btn" 
                    class="btn btn-secondary" 
                    type="button"
                    aria-label="ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ"
                    title="ุงูุนูุฏุฉ">
                    <span class="back-icon" aria-hidden="true"></span>
                </button>
                <button 
                    id="theme-toggle" 
                    class="btn btn-icon" 
                    type="button"
                    aria-label="ุชุจุฏูู ุจูู ุงููุถุน ุงููุงุชุญ ูุงูุฏุงูู"
                    aria-pressed="false"
                    title="ุชุจุฏูู ุงูุซูู">
                    <span class="theme-icon" aria-hidden="true">๐</span>
                </button>
                <button 
                    id="language-toggle" 
                    class="btn btn-icon" 
                    type="button"
                    aria-label="ุชุจุฏูู ุงููุบุฉ ุจูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ"
                    aria-pressed="false"
                    title="ุชุจุฏูู ุงููุบุฉ">
                    <span class="lang-icon" aria-hidden="true">EN</span>
                </button>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Leaderboard Header -->
            <div class="leaderboard-header">
                <div class="header-content">
                    <h2 data-ar="ูุชุงุฆุฌู" data-en="Your Scores">ูุชุงุฆุฌู</h2>
                    <p data-ar="ุดุงูุฏ ูุชุงุฆุฌู ุงููุญููุธุฉ" data-en="View your saved scores">
                        ุดุงูุฏ ูุชุงุฆุฌู ุงููุญููุธุฉ
                    </p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="clear-scores">
                        <span class="btn-icon">๐๏ธ</span>
                        <span data-ar="ูุณุญ ุงููุชุงุฆุฌ" data-en="Clear Scores">ูุณุญ ุงููุชุงุฆุฌ</span>
                    </button>
                    <button class="btn btn-secondary" id="export-leaderboard-csv">
                        <span class="btn-icon">๐ฅ</span>
                        <span data-ar="ุชุตุฏูุฑ CSV" data-en="Export CSV">ุชุตุฏูุฑ CSV</span>
                    </button>
                    
                </div>
            </div>

            <!-- Filter Controls -->
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="filter-mode" data-ar="ููุน ุงูุงุฎุชุจุงุฑ" data-en="Test Type">ููุน ุงูุงุฎุชุจุงุฑ</label>
                    <select id="filter-mode">
                        <option value="all" data-ar="ุงููู" data-en="All">ุงููู</option>
                        <option value="training" data-ar="ุงูุชุฏุฑูุจ" data-en="Training">ุงูุชุฏุฑูุจ</option>
                        <option value="exam" data-ar="ุงูุงุฎุชุจุงุฑ" data-en="Exam">ุงูุงุฎุชุจุงุฑ</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="sort-by" data-ar="ุชุฑุชูุจ ุญุณุจ" data-en="Sort By">ุชุฑุชูุจ ุญุณุจ</label>
                    <select id="sort-by">
                        <option value="score" data-ar="ุงููุชูุฌุฉ" data-en="Score">ุงููุชูุฌุฉ</option>
                        <option value="date" data-ar="ุงูุชุงุฑูุฎ" data-en="Date">ุงูุชุงุฑูุฎ</option>
                        <option value="time" data-ar="ุงูููุช" data-en="Time">ุงูููุช</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="time-range" data-ar="ุงููุชุฑุฉ ุงูุฒูููุฉ" data-en="Time Range">ุงููุชุฑุฉ ุงูุฒูููุฉ</label>
                    <select id="time-range">
                        <option value="all" data-ar="ุงููู" data-en="All">ุงููู</option>
                        <option value="today" data-ar="ุงูููู" data-en="Today">ุงูููู</option>
                        <option value="week" data-ar="ูุฐุง ุงูุฃุณุจูุน" data-en="This Week">ูุฐุง ุงูุฃุณุจูุน</option>
                        <option value="month" data-ar="ูุฐุง ุงูุดูุฑ" data-en="This Month">ูุฐุง ุงูุดูุฑ</option>
                    </select>
                </div>
            </div>

            <!-- Statistics Summary -->
            <div class="stats-summary">
                <div class="stat-card">
                    <div class="stat-icon">๐</div>
                    <div class="stat-content">
                        <div class="stat-number" id="total-tests">0</div>
                        <div class="stat-label" data-ar="ุฅุฌูุงูู ุงูุงุฎุชุจุงุฑุงุช" data-en="Total Tests">ุฅุฌูุงูู ุงูุงุฎุชุจุงุฑุงุช</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">๐ฏ</div>
                    <div class="stat-content">
                        <div class="stat-number" id="average-score">0%</div>
                        <div class="stat-label" data-ar="ูุชูุณุท ุงููุชูุฌุฉ" data-en="Average Score">ูุชูุณุท ุงููุชูุฌุฉ</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">๐</div>
                    <div class="stat-content">
                        <div class="stat-number" id="best-score">0%</div>
                        <div class="stat-label" data-ar="ุฃูุถู ูุชูุฌุฉ" data-en="Best Score">ุฃูุถู ูุชูุฌุฉ</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">โฑ๏ธ</div>
                    <div class="stat-content">
                        <div class="stat-number" id="total-time">0</div>
                        <div class="stat-label" data-ar="ุฅุฌูุงูู ุงูููุช (ุฏูุงุฆู)" data-en="Total Time (minutes)">ุฅุฌูุงูู ุงูููุช (ุฏูุงุฆู)</div>
                    </div>
                </div>
            </div>

            <!-- Leaderboard List -->
            <div class="leaderboard-container">
                <div class="leaderboard-list" id="leaderboard-list">
                    <!-- Scores will be populated by JavaScript -->
                </div>
                
                <!-- Empty State -->
                <div class="empty-state" id="empty-state" style="display: none;">
                    <div class="empty-icon">๐</div>
                    <h3 data-ar="ูุง ุชูุฌุฏ ูุชุงุฆุฌ ูุญููุธุฉ" data-en="No Saved Scores">ูุง ุชูุฌุฏ ูุชุงุฆุฌ ูุญููุธุฉ</h3>
                    <p data-ar="ุงุจุฏุฃ ุจุงูุชุฏุฑูุจ ุฃู ุงูุงุฎุชุจุงุฑ ูุญูุธ ุงููุชุงุฆุฌ" data-en="Start training or taking exams to save scores">
                        ุงุจุฏุฃ ุจุงูุชุฏุฑูุจ ุฃู ุงูุงุฎุชุจุงุฑ ูุญูุธ ุงููุชุงุฆุฌ
                    </p>
                    <button class="btn btn-primary" id="start-first-test">
                        <span data-ar="ุงุจุฏุฃ ุงูุขู" data-en="Start Now">ุงุจุฏุฃ ุงูุขู</span>
                    </button>
                </div>
            </div>

            <!-- Achievement Badges -->
            <div class="achievements-section">
                <h3 data-ar="ุงูุฅูุฌุงุฒุงุช" data-en="Achievements">ุงูุฅูุฌุงุฒุงุช</h3>
                <div class="achievements-grid" id="achievements-grid">
                    <!-- Achievements will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- Score Details Modal -->
    <div id="score-details-modal" class="modal" role="dialog" aria-labelledby="score-details-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="score-details-title" data-ar="ุชูุงุตูู ุงููุชูุฌุฉ" data-en="Score Details">ุชูุงุตูู ุงููุชูุฌุฉ</h2>
                <button class="modal-close" aria-label="ุฅุบูุงู">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="score-details-content" id="score-details-content">
                    <!-- Score details will be populated by JavaScript -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="delete-score">
                    <span data-ar="ุญุฐู" data-en="Delete">ุญุฐู</span>
                </button>
                <button class="btn btn-primary" id="close-details">
                    <span data-ar="ุฅุบูุงู" data-en="Close">ุฅุบูุงู</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Clear Confirmation Modal -->
    <div id="clear-confirmation-modal" class="modal" role="dialog" aria-labelledby="clear-confirmation-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="clear-confirmation-title" data-ar="ุชุฃููุฏ ุงููุณุญ" data-en="Confirm Clear">ุชุฃููุฏ ุงููุณุญ</h2>
            </div>
            <div class="modal-body">
                <div class="confirmation-message">
                    <div class="warning-icon">โ๏ธ</div>
                    <p data-ar="ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุฌููุน ุงููุชุงุฆุฌ ุงููุญููุธุฉุ ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก." data-en="Are you sure you want to delete all saved scores? This action cannot be undone.">
                        ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุฌููุน ุงููุชุงุฆุฌ ุงููุญููุธุฉุ ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก.
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-clear">
                    <span data-ar="ุฅูุบุงุก" data-en="Cancel">ุฅูุบุงุก</span>
                </button>
                <button class="btn btn-danger" id="confirm-clear">
                    <span data-ar="ุญุฐู ุงููู" data-en="Delete All">ุญุฐู ุงููู</span>
                </button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p data-ar="ยฉ2025 ุชุฏุฑูุจ ุณูุจุฑูุงูุฏ - ุชุทููุฑ ููุงู ูุตุงุจ" data-en="ยฉ 2024 SuperMind Trainer - Interactive Educational Development">
                ยฉ2025 ุชุฏุฑูุจ ุณูุจุฑูุงูุฏ - ุชุทููุฑ ููุงู ูุตุงุจ
            </p>
        </div>
    </footer>

    <script type="module" src="../js/utils.js"></script>
    <script type="module" src="../js/leaderboard.js"></script>
</body>
</html>
