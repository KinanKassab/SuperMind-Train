<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุถุน ุงูุงุฎุชุจุงุฑ - ุชุฏุฑูุจ ุณูุจุฑูุงูุฏ</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;500;600;700;800;900&family=Tajawal:wght@200;300;400;500;700;800;900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/themes.css">
    <link rel="manifest" href="../../manifest.json">
    <meta name="theme-color" content="#4f46e5">
</head>
<body class="light-theme">
    <!-- Professional Header Component -->
    <header class="header" role="banner">
        <div class="container">
            <!-- Logo Section - Left side with semantic structure -->
            <a href="../../index.html" class="logo" aria-label="ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ">
                <span class="logo-icon" aria-hidden="true">
                    <img src="../favicon.ico" alt="SuperMind Trainer" style="width: 24px; height: 24px;">
                </span>
                <span class="logo-text" data-ar="ูุถุน ุงูุงุฎุชุจุงุฑ" data-en="Exam Mode">ูุถุน ุงูุงุฎุชุจุงุฑ</span>
            </a>
            
            <!-- Header Controls - Right side with proper ARIA labels -->
            <nav class="header-controls" role="toolbar" aria-label="ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู">
                <button 
                    id="back-btn" 
                    class="btn btn-secondary" 
                    type="button"
                    aria-label="ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ"
                    title="ุงูุนูุฏุฉ">
                    <span class="back-icon" aria-hidden="true"></span>
                </button>
                <button 
                    id="theme-toggle" 
                    class="btn btn-icon" 
                    type="button"
                    aria-label="ุชุจุฏูู ุจูู ุงููุถุน ุงููุงุชุญ ูุงูุฏุงูู"
                    aria-pressed="false"
                    title="ุชุจุฏูู ุงูุซูู">
                    <span class="theme-icon" aria-hidden="true">๐</span>
                </button>
                <button 
                    id="language-toggle" 
                    class="btn btn-icon" 
                    type="button"
                    aria-label="ุชุจุฏูู ุงููุบุฉ ุจูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ"
                    aria-pressed="false"
                    title="ุชุจุฏูู ุงููุบุฉ">
                    <span class="lang-icon" aria-hidden="true">EN</span>
                </button>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Progress Section -->
            <div class="progress-section">
                <div class="progress-info">
                    <div class="progress-stats">
                        <span class="question-counter">
                            <span data-ar="ุณุคุงู" data-en="Question">ุณุคุงู</span>
                            <span id="current-question">1</span>
                            <span data-ar="ูู" data-en="of">ูู</span>
                            <span id="total-questions">10</span>
                        </span>
                        <span class="time-remaining">
                            <span data-ar="ุงูููุช ุงููุชุจูู" data-en="Time Remaining">ุงูููุช ุงููุชุจูู</span>
                            <span id="time-remaining">05:00</span>
                        </span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                </div>
                <div class="timer-display" id="timer-display" style="display: none;">
                    <span class="timer-icon">โฑ๏ธ</span>
                    <span id="timer-text">30</span>
                </div>
            </div>

            <!-- Question Section -->
            <div class="question-section">
                <div class="question-card">
                    <div class="question-header">
                        <h2 class="question-title" data-ar="ุญู ุงููุณุฃูุฉ ุงูุชุงููุฉ" data-en="Solve the following problem">ุญู ุงููุณุฃูุฉ ุงูุชุงููุฉ</h2>
                    </div>
                    <div class="question-content">
                        <div class="math-problem">
                            <span id="factor-a">7</span>
                            <span class="operator">ร</span>
                            <span id="factor-b">23</span>
                            <span class="equals">=</span>
                            <span class="question-mark">?</span>
                        </div>
                    </div>
                </div>

                <!-- Answer Options -->
                <div class="answer-options" id="answer-options">
                    <button class="answer-btn" data-answer="1" tabindex="1">
                        <span class="answer-number">1</span>
                        <span class="answer-value" id="answer-1">161</span>
                    </button>
                    <button class="answer-btn" data-answer="2" tabindex="2">
                        <span class="answer-number">2</span>
                        <span class="answer-value" id="answer-2">147</span>
                    </button>
                    <button class="answer-btn" data-answer="3" tabindex="3">
                        <span class="answer-number">3</span>
                        <span class="answer-value" id="answer-3">175</span>
                    </button>
                    <button class="answer-btn" data-answer="4" tabindex="4">
                        <span class="answer-number">4</span>
                        <span class="answer-value" id="answer-4">189</span>
                    </button>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-secondary" id="skip-btn">
                        <span data-ar="ุชุฎุทู" data-en="Skip">ุชุฎุทู</span>
                    </button>
                    <button class="btn btn-primary" id="submit-btn" disabled>
                        <span data-ar="ุชุฃููุฏ" data-en="Submit">ุชุฃููุฏ</span>
                    </button>
                </div>
            </div>

            <!-- Exam Instructions -->
            <div class="exam-instructions">
                <div class="instruction-item">
                    <span class="instruction-icon">โน๏ธ</span>
                    <span data-ar="ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู ุงูุฎูุงุฑุงุช ุงูุฃุฑุจุนุฉ" data-en="Choose the correct answer from the four options">
                        ุงุฎุชุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ ูู ุงูุฎูุงุฑุงุช ุงูุฃุฑุจุนุฉ
                    </span>
                </div>
                <div class="instruction-item">
                    <span class="instruction-icon">โจ๏ธ</span>
                    <span data-ar="ุงุณุชุฎุฏู ุงูุฃุฑูุงู 1-4 ุฃู Enter ููุชุฃููุฏ" data-en="Use numbers 1-4 or Enter to confirm">
                        ุงุณุชุฎุฏู ุงูุฃุฑูุงู 1-4 ุฃู Enter ููุชุฃููุฏ
                    </span>
                </div>
                <div class="instruction-item">
                    <span class="instruction-icon">โฐ</span>
                    <span data-ar="ุงูุชุจู ูููุคูุช - ุณูุชู ุฅุฑุณุงู ุงูุฅุฌุงุจุฉ ุชููุงุฆูุงู" data-en="Watch the timer - answers will be submitted automatically">
                        ุงูุชุจู ูููุคูุช - ุณูุชู ุฅุฑุณุงู ุงูุฅุฌุงุจุฉ ุชููุงุฆูุงู
                    </span>
                </div>
            </div>
        </div>
    </main>

    <!-- Exam Completion Modal -->
    <div id="exam-completion-modal" class="modal" role="dialog" aria-labelledby="exam-completion-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="exam-completion-title" data-ar="ุงูุชูู ุงูุงุฎุชุจุงุฑ!" data-en="Exam Complete!">ุงูุชูู ุงูุงุฎุชุจุงุฑ!</h2>
            </div>
            <div class="modal-body">
                <div class="completion-message">
                    <div class="completion-icon">๐</div>
                    <p data-ar="ุชู ุฅููุงู ุงูุงุฎุชุจุงุฑ ุจูุฌุงุญ!" data-en="Exam completed successfully!">
                        ุชู ุฅููุงู ุงูุงุฎุชุจุงุฑ ุจูุฌุงุญ!
                    </p>
                </div>
                <div class="completion-stats">
                    <div class="stat-row">
                        <span class="stat-label" data-ar="ุนุฏุฏ ุงูุฃุณุฆูุฉ" data-en="Questions">ุนุฏุฏ ุงูุฃุณุฆูุฉ</span>
                        <span class="stat-value" id="exam-total-questions">10</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label" data-ar="ุงูููุช ุงููุณุชุบุฑู" data-en="Time Taken">ุงูููุช ุงููุณุชุบุฑู</span>
                        <span class="stat-value" id="exam-time-taken">03:45</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="view-exam-results">
                    <span data-ar="ุนุฑุถ ุงููุชุงุฆุฌ" data-en="View Results">ุนุฑุถ ุงููุชุงุฆุฌ</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Time Warning Modal -->
    <div id="time-warning-modal" class="modal" role="dialog" aria-labelledby="time-warning-title" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="time-warning-title" data-ar="ุชุญุฐูุฑ ุงูููุช" data-en="Time Warning">ุชุญุฐูุฑ ุงูููุช</h2>
            </div>
            <div class="modal-body">
                <div class="warning-message">
                    <div class="warning-icon">โ๏ธ</div>
                    <p id="time-warning-text" data-ar="ุงูููุช ุงููุชุจูู: 30 ุซุงููุฉ" data-en="Time remaining: 30 seconds">
                        ุงูููุช ุงููุชุจูู: 30 ุซุงููุฉ
                    </p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="acknowledge-warning">
                    <span data-ar="ูููุช" data-en="Understood">ูููุช</span>
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="../js/utils.js"></script>
    <script type="module" src="../js/questionGenerator.js"></script>
    <script type="module" src="../js/exam.js"></script>
</body>
</html>
